!function(e){"use strict";const t={getNums:function(e,t){const n={};return Object.keys(e).forEach((function(r){n[r]="width"===t&&e[r].direct?0:e[r][t]})),n},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const n=this.haveBreakPoint(e);if(n){const n=e.split("@");e=n[0],t=n[1]}else t="xs";return{widthBp:n,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":e+"px",t},regError:function(e,t){const n=new Error;return n.name=e,n.message=t,console.error(n),n},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,n,r){const s=r.sizes,o=r.prefix,i=t.processors[e].ruleCss,a={};let c,l,p,u,h,f,d=!1;return Object.keys(n).forEach((function(t,r){h=o+e+"-"+n[t].name,h=h.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@"),-1!==i.indexOf(":")?(f=n[t].value,r||(a[o+e+"-"+e]="."+o+e+"-"+e+"{"+i+"}")):f=i+":"+n[t].value,c="@media screen and ",-1===t.indexOf("-")?s[t]?c+="(min-width: "+s[t]+"px)":(c="."+h+"{"+f+"}",d=!0):(l=t.split("-"),p=l[0],p&&(c+="(min-width: "+s[p]+"px) and "),u=l[1],c+="(max-width: "+(s[u]-1)+"px)"),d||(c+="{."+h+"{"+f+"}}"),d=!1,a[h]=c})),a},createScopeStyles:function(){const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.body.appendChild(e),e.id="layouter",e.sheet},insertRules:function(e,t){const n=t.scope,r=t.prefix;Object.keys(e).forEach((function(s){t.styles.hasOwnProperty(r+s)||(n.insertRule(e[s],n.rules.length),t.styles[r+s]=e[s])}))},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],adClasses:function(e,t){const n=this;e.forEach((function(e){n.replaceList.forEach((function(t){e=e.replace(t[0],t[1])})),t.classList.add(e)}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.adClasses(Object.keys(t),e.node)},padsAndMargs:function(e,n,r){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const s=r.getParameters(e),o=this;if(!s.hasOwnProperty(n))return t.regError("Parameter Missing","Don't exists the param '"+n+"' determined");const i={};let a,c,l,p;s[n].forEach((function(e){a=t.prepareParam(e),c=a.numbers,p=a.breakPoints,l=c.split("-").map((function(e){return o.processedNumber(e)})).join(" "),i.hasOwnProperty(p)?i[p].value+=";"+l:i[p]={name:e,value:l}})),this.settingCss({type:n,bps:i,instance:r,node:e}),e.removeAttribute(n)}};function n(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const n=e.breakPoints;this.breakPoints=Object.keys(n),this.sizes=t.getNums(n,"width"),this.cols=t.getNums(n,"cols"),this.scope=t.createScopeStyles(),this.styles={}}const r=n.prototype;n.version="1.0Beta",r.getParameters=function(e){const n={},r=e.attributes,s=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==s.indexOf(e.name)&&""!==e.value&&(n[e.name]=e.value.split(" "))})),n},r.setCols=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const n=this,r=this.getParameters(e);if(!r.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");let s,o,i,a,c,l={};r.cols.forEach((function(e){i=e,c=t.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?s=e.split("/"):c.widthBp?-1===o.indexOf("-")?s=[e,n.cols[o]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):s=[e,n.cols.xs],a=t.calPercentage(s[0],s[1]),l[o]={name:i,value:a}})),t.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},r.setPads=function(e){t.padsAndMargs(e,"pad",this)},r.setMars=function(e){t.padsAndMargs(e,"mar",this)},r.setFlex=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const n=this.getParameters(e);if(!n.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");let r,s,o,i,a,c,l,p={};n.flex.forEach((function(e){return s=e,o=t.prepareParam(e),r=o.breakPoints,e=o.numbers,i=e.split(":"),c=i[0],t.flexpv.hasOwnProperty(c)?(l=i[1],t.flexpv.hasOwnProperty(l)?(a=t.flexpv[c]+":"+t.flexpv[i[1]],void(p.hasOwnProperty(r)?(1!==s.indexOf("@")&&(s=s.split("@")[0]),p[r].name=p[r].name.split("@")[0]+"-"+s+"@"+r,p[r].value+=";"+a):p[r]={name:s,value:a})):t.regError("Non-existent Alias","Don't exists the alias '"+l+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+c+"' in Flex vault.")})),t.settingCss({type:"flex",bps:p,instance:this,node:e}),e.removeAttribute("flex")},r.build=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const n=this.getParameters(e),r=Object.keys(n),s=this;r.length?r.forEach((function(n){s[t.processors[n].method](e)})):t.regError("Parameter Missing","don't exists any parameter to process")},function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test;var a=/\S/;function c(e){return!function(e,t){return i.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var p=/\s*/,u=/\s+/,h=/\s*=/,f=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function m(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},m.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,n,s,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var a,c,l,p=this,u=!1;p;){if(e.indexOf(".")>0)for(a=p.view,c=e.split("."),l=0;null!=a&&l<c.length;)l===c.length-1&&(u=o(a,c[l])||(n=a,s=c[l],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(s))),a=a[c[l++]];else a=p.view[e],u=o(p.view,e);if(u){t=a;break}p=p.parent}i[e]=t}return r(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(e,t){var r=this.templateCache,o=e+":"+(t||v.tags).join(":"),i=void 0!==r,a=i?r.get(o):void 0;return null==a&&(a=function(e,t){if(!e)return[];var r,o,i,a=!1,l=[],g=[],y=[],b=!1,w=!1,x="",P=0;function E(){if(b&&!w)for(;y.length;)delete g[y.pop()];else y=[];b=!1,w=!1}function O(e){if("string"==typeof e&&(e=e.split(u,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(s(e[0])+"\\s*"),o=new RegExp("\\s*"+s(e[1])),i=new RegExp("\\s*"+s("}"+e[1]))}O(t||v.tags);for(var k,C,j,N,A,T,S=new m(e);!S.eos();){if(k=S.pos,j=S.scanUntil(r))for(var M=0,q=j.length;M<q;++M)c(N=j.charAt(M))?(y.push(g.length),x+=N):(w=!0,a=!0,x+=" "),g.push(["text",N,k,k+1]),k+=1,"\n"===N&&(E(),x="",P=0,a=!1);if(!S.scan(r))break;if(b=!0,C=S.scan(d)||"name",S.scan(p),"="===C?(j=S.scanUntil(h),S.scan(h),S.scanUntil(o)):"{"===C?(j=S.scanUntil(i),S.scan(f),S.scanUntil(o),C="&"):j=S.scanUntil(o),!S.scan(o))throw new Error("Unclosed tag at "+S.pos);if(A=">"==C?[C,j,k,S.pos,x,P,a]:[C,j,k,S.pos],P++,g.push(A),"#"===C||"^"===C)l.push(A);else if("/"===C){if(!(T=l.pop()))throw new Error('Unopened section "'+j+'" at '+k);if(T[1]!==j)throw new Error('Unclosed section "'+T[1]+'" at '+k)}else"name"===C||"{"===C||"&"===C?w=!0:"="===C&&O(j)}if(E(),T=l.pop())throw new Error('Unclosed section "'+T[1]+'" at '+S.pos);return function(e){for(var t,n=[],r=n,s=[],o=0,i=e.length;o<i;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),s.push(t),r=t[4]=[];break;case"/":s.pop()[5]=t[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],s=0,o=e.length;s<o;++s)(t=e[s])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(g))}(e,t),i&&r.set(o,a)),a},y.prototype.render=function(e,t,n,r){var s=this.parse(e,r),o=t instanceof g?t:new g(t,void 0);return this.renderTokens(s,o,n,e,r)},y.prototype.renderTokens=function(e,t,n,r,s){for(var o,i,a,c="",l=0,p=e.length;l<p;++l)a=void 0,"#"===(i=(o=e[l])[0])?a=this.renderSection(o,t,n,r):"^"===i?a=this.renderInverted(o,t,n,r):">"===i?a=this.renderPartial(o,t,n,s):"&"===i?a=this.unescapedValue(o,t):"name"===i?a=this.escapedValue(o,t):"text"===i&&(a=this.rawValue(o)),void 0!==a&&(c+=a);return c},y.prototype.renderSection=function(e,t,s,o){var i=this,a="",c=t.lookup(e[1]);if(c){if(n(c))for(var l=0,p=c.length;l<p;++l)a+=this.renderTokens(e[4],t.push(c[l]),s,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],t.push(c),s,o);else if(r(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,o.slice(e[3],e[5]),(function(e){return i.render(e,t,s)})))&&(a+=c)}else a+=this.renderTokens(e[4],t,s,o);return a}},y.prototype.renderInverted=function(e,t,r,s){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,s)},y.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),s=e.split("\n"),o=0;o<s.length;o++)s[o].length&&(o>0||!n)&&(s[o]=r+s[o]);return s.join("\n")},y.prototype.renderPartial=function(e,t,n,s){if(n){var o=r(n)?n(e[1]):n[e[1]];if(null!=o){var i=e[6],a=e[5],c=e[4],l=o;return 0==a&&c&&(l=this.indentPartial(o,c,i)),this.renderTokens(this.parse(l,s),t,n,l)}}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return v.escape(n)},y.prototype.rawValue=function(e){return e[1]};var v={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){b.templateCache=e},get templateCache(){return b.templateCache}},b=new y;v.clearCache=function(){return b.clearCache()},v.parse=function(e,t){return b.parse(e,t)},v.render=function(e,t,r,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return b.render(e,t,r,s)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},v.Scanner=m,v.Context=g,v.Writer=y,e.Schema=v}(this);const s={objLiteral:function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},typesAccepted:["string","number","boolean","array","object"],getType:{obj:function(e){return Array.isArray(e)?"array":typeof e},schema:function(e){let t;if(Array.isArray(e))t="mixed";else if(s.objLiteral(e))t=e.hasOwnProperty("type")?e.type:"object";else{const n=typeof e;t="string"===n&&-1!==s.typesAccepted.indexOf(e)?e:n}return t}},reg:function(e,t,n){let r=!1;return n?e.hasOwnProperty(n)||(e[n]=t,r=!0):(e.push(t),r=!0),r},mergeProps:function(e,t,n){const r=t.errors;let s,o;r.length&&(e.errors=e.errors.concat(r)),["required","optional"].forEach((function(n){s=t.missings[n],s.length&&(e.missings[n]=e.missings[n].concat(s))})),["different","compiled"].forEach((function(r){o=t[r],Object.keys(o).length&&(e[r].hasOwnProperty(n)||(e[r][n]={}),e[r][n]=o)}))}};function o(e){this.schema=Object.assign({},e),this.missings={required:[],optional:[]},this.different={},this.errors=[],this.compiled={}}o.prototype.compile=function(e){return e&&this.validate(e),!this.missings.required.length&&this.compiled},o.prototype.validate=function(e){const t=this.schema,n=this;let r=!0;return Object.keys(t).forEach((function(i){const a=t[i],c=s.getType.schema(a);if(e.hasOwnProperty(i)){const t=e[i],l=s.getType.obj(t);switch(c){case"string":case"number":case"boolean":case"array":c!==l?(a.required&&(r=!1),s.reg(n.different,{current:l,expected:c,value:t},i)):s.reg(n.compiled,t,i);break;case"object":if("object"===l)if(a.hasOwnProperty("properties")){const e=new o(a.properties);e.validate(t)||(r=!1),s.mergeProps(n,e,i)}else s.reg(n.compiled,t,i);else a.required&&(r=!1,s.reg(n.different,{current:l,expected:c,value:t},i));break;case"mixed":!a.filter((function(e){return e===l})).length&&a.required?(r=!1,s.reg(n.different,{current:l,expected:a,value:t},i)):s.reg(n.compiled,t,i);break;default:console.log("format type dont accepted: "+c),r=!1}}else{let e;a.required?(r=!1,e="required"):e="optional",s.reg(n.missings[e],i),a.default&&(n.compiled[i]=a.default)}})),r};const i=function(e,t){const n=new Error;return n.name=e,n.message=t,console.log(n),n};function a(e){e||(e={}),c.call(this),this.components=new Map,this.modules=new Map}function c(){this.events=null}a.prototype=Object.create(c.prototype),a.prototype.constructor=a,c.prototype.addEventListener=function(e,t){this.events||(this.events={}),this.events[e]?this.events[e].push(t):this.events[e]=[t]},c.prototype.dispatchEvent=function(e,t,n){if(this.events&&this.events[e]){const r=this;this.events[e].forEach((function(e){e.call(r,t,n)}))}},c.prototype.removeEventListener=function(e,t){if(this.events&&this.events[e]){const n=this.events[e];if(n){if(void 0===t)delete this.events[e];else{const r=n.length;let s;for(s=0;s<r;s++)if(n[s]===t){this.events[e].splice(s,1),this.events[e].length||delete this.events[e];break}}Object.keys(this.events).length||(this.events=null)}}},a.prototype.registerComponent=function(e,t){if("string"!=typeof e)return i("Nombre Inadecuado","No se declarÃ³ correctamente el nombre del componente a registrar.");if(this.components.has(e))return i("Componente Duplicado",'Ya se habÃ­a registrado el componente "'+e+'".');function n(){c.call(this,e)}t||(t={}),n.prototype=Object.create(c.prototype),n.prototype.constructor=n;const r={styles:t.styles||null,schema:t.schema||null,template:t.template||null,constructor:n,instance:new n};this.components.set(e,r);const s=Object.assign({},r);return delete s.constructor,delete s.instance,this.dispatchEvent("component:registered",e,s),setTimeout((function(){r.instance.dispatchEvent("registered",s)}),0),r.instance},a.prototype.createComponent=function(e,t){if(t||(t={}),!this.components.has(e))return i("Componente Inexistente",'No se puede crear el componente "'+e+'", porque no estÃ¡ registrado.');const n=this.components.get(e);let r=null;if(n.hasOwnProperty("schema")){const s=new o(n.schema);if(!s.validate(t))return i("Data invÃ¡lida",'No fuÃ© posible crear el componente "'+e+'", ya que su data es invÃ¡lida.');r=s.compile()}let s=null;if(n.hasOwnProperty("template")){const e=document.createElement("div");e.innerHTML=Mustache.render(n.template,r),s=e.firstChild}if(n.hasOwnProperty("script")){const e=this;if(s){const t=s.querySelectorAll("[component]");t.length&&Array.prototype.forEach.call(t,(function(t){n.script.call(e,t,r)}))}else n.script.call(e,null,r)}if(n.hasOwnProperty("styles")){const t=document.createElement("style");t.type="text/css",t.innerHTML=n.styles,t.id=e,document.body.appendChild(t)}return this.dispatchEvent("component:registered",e,s),setTimeout((function(){n.instance.dispatchEvent("created",s)}),0),n.instance},"object"==typeof module&&module.exports?module.exports=a:e.Smart=a}(this);