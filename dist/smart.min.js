!function(e){"use strict";var t,n;t=this,n=function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,i=/\S/;function a(e){return!function(e,t){return o.call(e,t)}(i,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,p=/\s+/,u=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function d(e){this.string=e,this.tail=e,this.pos=0}function m(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},m.prototype.push=function(e){return new m(e,this)},m.prototype.lookup=function(e){var t,r,o,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var a,c,l,p=this,u=!1;p;){if(e.indexOf(".")>0)for(a=p.view,c=e.split("."),l=0;null!=a&&l<c.length;)l===c.length-1&&(u=s(a,c[l])||(r=a,o=c[l],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),a=a[c[l++]];else a=p.view[e],u=s(p.view,e);if(u){t=a;break}p=p.parent}i[e]=t}return n(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(e,n){var s=this.templateCache,o=e+":"+(n||y.tags).join(":"),i=void 0!==s,c=i?s.get(o):void 0;return null==c&&(c=function(e,n){if(!e)return[];var s,o,i,c=!1,m=[],g=[],v=[],x=!1,b=!1,w="",P=0;function E(){if(x&&!b)for(;v.length;)delete g[v.pop()];else v=[];x=!1,b=!1}function O(e){if("string"==typeof e&&(e=e.split(p,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),i=new RegExp("\\s*"+r("}"+e[1]))}O(n||y.tags);for(var k,j,C,N,A,T,S=new d(e);!S.eos();){if(k=S.pos,C=S.scanUntil(s))for(var M=0,q=C.length;M<q;++M)a(N=C.charAt(M))?(v.push(g.length),w+=N):(b=!0,c=!0,w+=" "),g.push(["text",N,k,k+1]),k+=1,"\n"===N&&(E(),w="",P=0,c=!1);if(!S.scan(s))break;if(x=!0,j=S.scan(f)||"name",S.scan(l),"="===j?(C=S.scanUntil(u),S.scan(u),S.scanUntil(o)):"{"===j?(C=S.scanUntil(i),S.scan(h),S.scanUntil(o),j="&"):C=S.scanUntil(o),!S.scan(o))throw new Error("Unclosed tag at "+S.pos);if(A=">"==j?[j,C,k,S.pos,w,P,c]:[j,C,k,S.pos],P++,g.push(A),"#"===j||"^"===j)m.push(A);else if("/"===j){if(!(T=m.pop()))throw new Error('Unopened section "'+C+'" at '+k);if(T[1]!==C)throw new Error('Unclosed section "'+T[1]+'" at '+k)}else"name"===j||"{"===j||"&"===j?b=!0:"="===j&&O(C)}if(E(),T=m.pop())throw new Error('Unclosed section "'+T[1]+'" at '+S.pos);return function(e){for(var t,n=[],r=n,s=[],o=0,i=e.length;o<i;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),s.push(t),r=t[4]=[];break;case"/":s.pop()[5]=t[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],s=0,o=e.length;s<o;++s)(t=e[s])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(g))}(e,n),i&&s.set(o,c)),c},g.prototype.render=function(e,t,n,r){var s=this.parse(e,r),o=t instanceof m?t:new m(t,void 0);return this.renderTokens(s,o,n,e,r)},g.prototype.renderTokens=function(e,t,n,r,s){for(var o,i,a,c="",l=0,p=e.length;l<p;++l)a=void 0,"#"===(i=(o=e[l])[0])?a=this.renderSection(o,t,n,r):"^"===i?a=this.renderInverted(o,t,n,r):">"===i?a=this.renderPartial(o,t,n,s):"&"===i?a=this.unescapedValue(o,t):"name"===i?a=this.escapedValue(o,t):"text"===i&&(a=this.rawValue(o)),void 0!==a&&(c+=a);return c},g.prototype.renderSection=function(e,r,s,o){var i=this,a="",c=r.lookup(e[1]);if(c){if(t(c))for(var l=0,p=c.length;l<p;++l)a+=this.renderTokens(e[4],r.push(c[l]),s,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],r.push(c),s,o);else if(n(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(r.view,o.slice(e[3],e[5]),(function(e){return i.render(e,r,s)})))&&(a+=c)}else a+=this.renderTokens(e[4],r,s,o);return a}},g.prototype.renderInverted=function(e,n,r,s){var o=n.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],n,r,s)},g.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),s=e.split("\n"),o=0;o<s.length;o++)s[o].length&&(o>0||!n)&&(s[o]=r+s[o]);return s.join("\n")},g.prototype.renderPartial=function(e,t,r,s){if(r){var o=n(r)?r(e[1]):r[e[1]];if(null!=o){var i=e[6],a=e[5],c=e[4],l=o;return 0==a&&c&&(l=this.indentPartial(o,c,i)),this.renderTokens(this.parse(l,s),t,r,l)}}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return y.escape(n)},g.prototype.rawValue=function(e){return e[1]};var y={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){v.templateCache=e},get templateCache(){return v.templateCache}},v=new g;return y.clearCache=function(){return v.clearCache()},y.parse=function(e,t){return v.parse(e,t)},y.render=function(e,n,r,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return v.render(e,n,r,s)},y.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},y.Scanner=d,y.Context=m,y.Writer=g,y},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).Mustache=n();const r={getNums:function(e,t){const n={};return Object.keys(e).forEach((function(r){n[r]="width"===t&&e[r].direct?0:e[r][t]})),n},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const n=this.haveBreakPoint(e);if(n){const n=e.split("@");e=n[0],t=n[1]}else t="xs";return{widthBp:n,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":e+"px",t},regError:function(e,t){const n=new Error;return n.name=e,n.message=t,console.error(n),n},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,t,n){const s=n.sizes,o=n.prefix,i=r.processors[e].ruleCss,a={};let c,l,p,u,h,f,d=!1;return Object.keys(t).forEach((function(n,r){h=o+e+"-"+t[n].name,h=h.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@"),-1!==i.indexOf(":")?(f=t[n].value,r||(a[o+e+"-"+e]="."+o+e+"-"+e+"{"+i+"}")):f=i+":"+t[n].value,c="@media screen and ",-1===n.indexOf("-")?s[n]?c+="(min-width: "+s[n]+"px)":(c="."+h+"{"+f+"}",d=!0):(l=n.split("-"),p=l[0],p&&(c+="(min-width: "+s[p]+"px) and "),u=l[1],c+="(max-width: "+(s[u]-1)+"px)"),d||(c+="{."+h+"{"+f+"}}"),d=!1,a[h]=c})),a},createScopeStyles:function(){const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.body.appendChild(e),e.id="layouter",e.sheet},insertRules:function(e,t){const n=t.scope,r=t.prefix;Object.keys(e).forEach((function(s){t.styles.hasOwnProperty(r+s)||(n.insertRule(e[s],n.rules.length),t.styles[r+s]=e[s])}))},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],adClasses:function(e,t){const n=this;e.forEach((function(e){n.replaceList.forEach((function(t){e=e.replace(t[0],t[1])})),t.classList.add(e)}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.adClasses(Object.keys(t),e.node)},padsAndMargs:function(e,t,n){if(!e)return r.regError("Non-existent Node","Don't exists the Node for processing.");const s=n.getParameters(e),o=this;if(!s.hasOwnProperty(t))return r.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const i={};let a,c,l,p;s[t].forEach((function(e){a=r.prepareParam(e),c=a.numbers,p=a.breakPoints,l=c.split("-").map((function(e){return o.processedNumber(e)})).join(" "),i.hasOwnProperty(p)?i[p].value+=";"+l:i[p]={name:e,value:l}})),this.settingCss({type:t,bps:i,instance:n,node:e}),e.removeAttribute(t)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return r.regError("Configuration Missing","¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const t=e.breakPoints;this.breakPoints=Object.keys(t),this.sizes=r.getNums(t,"width"),this.cols=r.getNums(t,"cols"),this.scope=r.createScopeStyles(),this.styles={}}const o=s.prototype;s.version="1.0Beta",o.getParameters=function(e){const t={},n=e.attributes,s=Object.keys(r.processors);return Array.prototype.forEach.call(n,(function(e){-1!==s.indexOf(e.name)&&""!==e.value&&(t[e.name]=e.value.split(" "))})),t},o.setCols=function(e){if(!e)return r.regError("Non-existent Node","Don't exists the Node for processing.");const t=this,n=this.getParameters(e);if(!n.hasOwnProperty("cols"))return r.regError("Parameter Missing","Don't exists 'cols' determined");let s,o,i,a,c,l={};n.cols.forEach((function(e){i=e,c=r.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?s=e.split("/"):c.widthBp?-1===o.indexOf("-")?s=[e,t.cols[o]]:r.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):s=[e,t.cols.xs],a=r.calPercentage(s[0],s[1]),l[o]={name:i,value:a}})),r.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},o.setPads=function(e){r.padsAndMargs(e,"pad",this)},o.setMars=function(e){r.padsAndMargs(e,"mar",this)},o.setFlex=function(e){if(!e)return r.regError("Non-existent Node","Don't exists the Node for processing.");const t=this.getParameters(e);if(!t.hasOwnProperty("flex"))return r.regError("Parameter Missing","Don't exists 'flex' determinated.");let n,s,o,i,a,c,l,p={};t.flex.forEach((function(e){return s=e,o=r.prepareParam(e),n=o.breakPoints,e=o.numbers,i=e.split(":"),c=i[0],r.flexpv.hasOwnProperty(c)?(l=i[1],r.flexpv.hasOwnProperty(l)?(a=r.flexpv[c]+":"+r.flexpv[i[1]],void(p.hasOwnProperty(n)?(1!==s.indexOf("@")&&(s=s.split("@")[0]),p[n].name=p[n].name.split("@")[0]+"-"+s+"@"+n,p[n].value+=";"+a):p[n]={name:s,value:a})):r.regError("Non-existent Alias","Don't exists the alias '"+l+"' in Flex vault.")):r.regError("Non-existent Alias","Don't exists the alias '"+c+"' in Flex vault.")})),r.settingCss({type:"flex",bps:p,instance:this,node:e}),e.removeAttribute("flex")},o.build=function(e){if(!e)return r.regError("Non-existent Node","Don't exists the Node for processing.");const t=this.getParameters(e),n=Object.keys(t),s=this;n.length?n.forEach((function(t){s[r.processors[t].method](e)})):r.regError("Parameter Missing","don't exists any parameter to process")};const i={objLiteral:function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},typesAccepted:["string","number","boolean","array","object"],getType:{obj:function(e){return Array.isArray(e)?"array":typeof e},schema:function(e){let t;if(Array.isArray(e))t="mixed";else if(i.objLiteral(e))t=e.hasOwnProperty("type")?e.type:"object";else{const n=typeof e;t="string"===n&&-1!==i.typesAccepted.indexOf(e)?e:n}return t}},reg:function(e,t,n){let r=!1;return n?e.hasOwnProperty(n)||(e[n]=t,r=!0):(e.push(t),r=!0),r},mergeProps:function(e,t,n){const r=t.errors;let s,o;r.length&&(e.errors=e.errors.concat(r)),["required","optional"].forEach((function(n){s=t.missings[n],s.length&&(e.missings[n]=e.missings[n].concat(s))})),["different","compiled"].forEach((function(r){o=t[r],Object.keys(o).length&&(e[r].hasOwnProperty(n)||(e[r][n]={}),e[r][n]=o)}))}};function a(e){this.schema=Object.assign({},e),this.missings={required:[],optional:[]},this.different={},this.errors=[],this.compiled={}}a.prototype.compile=function(e){return e&&this.validate(e),!this.missings.required.length&&this.compiled},a.prototype.validate=function(e){const t=this.schema,n=this;let r=!0;return Object.keys(t).forEach((function(s){const o=t[s],c=i.getType.schema(o);if(e.hasOwnProperty(s)){const t=e[s],l=i.getType.obj(t);switch(c){case"string":case"number":case"boolean":case"array":c!==l?(o.required&&(r=!1),i.reg(n.different,{current:l,expected:c,value:t},s)):i.reg(n.compiled,t,s);break;case"object":if("object"===l)if(o.hasOwnProperty("properties")){const e=new a(o.properties);e.validate(t)||(r=!1),i.mergeProps(n,e,s)}else i.reg(n.compiled,t,s);else o.required&&(r=!1,i.reg(n.different,{current:l,expected:c,value:t},s));break;case"mixed":!o.filter((function(e){return e===l})).length&&o.required?(r=!1,i.reg(n.different,{current:l,expected:o,value:t},s)):i.reg(n.compiled,t,s);break;default:console.log("format type dont accepted: "+c),r=!1}}else{let e;o.required?(r=!1,e="required"):e="optional",i.reg(n.missings[e],s),o.default&&(n.compiled[s]=o.default)}})),r};const c=function(e,t){const n=new Error;return n.name=e,n.message=t,console.log(n),n};function l(){this.events=null}function p(e){e||(e={}),l.call(this),this.components=new Map,this.modules=new Map}l.prototype.addEventListener=function(e,t){this.events||(this.events={}),this.events[e]?this.events[e].push(t):this.events[e]=[t]},l.prototype.dispatchEvent=function(e,t,n){if(this.events&&this.events[e]){const r=this;this.events[e].forEach((function(e){e.call(r,t,n)}))}},l.prototype.removeEventListener=function(e,t){if(this.events&&this.events[e]){const n=this.events[e];if(n){if(void 0===t)delete this.events[e];else{const r=n.length;let s;for(s=0;s<r;s++)if(n[s]===t){this.events[e].splice(s,1),this.events[e].length||delete this.events[e];break}}Object.keys(this.events).length||(this.events=null)}}},p.prototype=Object.create(l.prototype),p.prototype.constructor=p,p.prototype.registerComponent=function(e,t){if("string"!=typeof e)return c("Nombre Inadecuado","No se declaró correctamente el nombre del componente a registrar.");if(this.components.has(e))return c("Componente Duplicado",'Ya se había registrado el componente "'+e+'".');function n(){l.call(this,e)}t||(t={}),n.prototype=Object.create(l.prototype),n.prototype.constructor=n;const r={styles:t.styles||null,schema:t.schema||null,template:t.template||null,constructor:n,instance:new n};this.components.set(e,r);const s=Object.assign({},r);return delete s.constructor,delete s.instance,this.dispatchEvent("component:registered",e,s),setTimeout((function(){r.instance.dispatchEvent("registered",s)}),0),r.instance},p.prototype.createComponent=function(e,t){if(t||(t={}),!this.components.has(e))return c("Componente Inexistente",'No se puede crear el componente "'+e+'", porque no está registrado.');const n=this.components.get(e);let r=null;if(n.hasOwnProperty("schema")){const s=new a(n.schema);if(!s.validate(t))return c("Data inválida",'No fué posible crear el componente "'+e+'", ya que su data es inválida.');r=s.compile()}let s=null;if(n.hasOwnProperty("template")){const e=document.createElement("div");e.innerHTML=Mustache.render(n.template,r),s=e.firstChild}if(n.hasOwnProperty("script")){const e=this;if(s){const t=s.querySelectorAll("[component]");t.length&&Array.prototype.forEach.call(t,(function(t){n.script.call(e,t,r)}))}else n.script.call(e,null,r)}if(n.hasOwnProperty("styles")){const t=document.createElement("style");t.type="text/css",t.innerHTML=n.styles,t.id=e,document.body.appendChild(t)}return this.dispatchEvent("component:created",e,s),setTimeout((function(){n.instance.dispatchEvent("created",s)}),0),n.instance},"object"==typeof module&&module.exports?module.exports=p:e.Smart=p}(this);